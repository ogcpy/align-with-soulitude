import{A as b,r as h,j as e,B as y}from"./index-eM4kAplK.js";import{u as v,C as r,a as i,b as c,d as o,c as j,e as p,f as C,g as B}from"./queryClient-wqM4yBLK.js";import{C as k}from"./circle-check-big-Dxtx5VOW.js";function S(){var m,u,f;const[D,s]=b(),[d,N]=h.useState(null);h.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("id");t?N(t):s("/booking")},[s]);const{data:a,isLoading:w,error:g}=v({queryKey:["/api/consultations",d],queryFn:B({on401:"throw"}),enabled:!!d}),x=n=>{if(!n)return"";const[t,R]=n.split(":"),l=new Date;return l.setHours(parseInt(t,10)),l.setMinutes(parseInt(R,10)),l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return w?e.jsx("div",{className:"container mx-auto px-4 py-12 max-w-4xl flex justify-center items-center min-h-[60vh]",children:e.jsxs(r,{className:"w-full max-w-xl",children:[e.jsx(i,{className:"text-center",children:e.jsx(c,{className:"text-2xl text-neutral-800 font-['Playfair_Display']",children:"Loading Booking Details..."})}),e.jsx(o,{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-[#EAB69B] border-t-transparent rounded-full"})})]})}):g||!a?e.jsx("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:e.jsxs(r,{className:"w-full",children:[e.jsxs(i,{className:"text-center",children:[e.jsx(c,{className:"text-2xl text-neutral-800 font-['Playfair_Display']",children:"Booking Not Found"}),e.jsx(j,{className:"text-neutral-600 font-['Raleway'] text-lg",children:"We couldn't find the booking information you're looking for."})]}),e.jsx(o,{className:"text-center py-6",children:e.jsx("p",{className:"text-neutral-600 font-['Raleway']",children:"The consultation you're trying to view may have been canceled or the link is incorrect."})}),e.jsx(p,{className:"flex justify-center",children:e.jsx(y,{className:"bg-[#EAB69B] hover:bg-[#D49B80] text-white px-8 py-6 rounded-md transition-all font-medium font-['Raleway']",onClick:()=>s("/"),children:"Return to Home"})})]})}):e.jsx("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:e.jsxs(r,{className:"w-full",children:[e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(k,{className:"w-16 h-16 text-green-500"})}),e.jsx(c,{className:"text-2xl text-neutral-800 font-['Playfair_Display']",children:"Booking Confirmed!"}),e.jsx(j,{className:"text-neutral-600 font-['Raleway'] text-lg",children:"Thank you for scheduling a consultation with us."})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#F1F1F1] p-6 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway']",children:"Service:"}),e.jsx("span",{className:"font-medium text-neutral-800 font-['Raleway']",children:((m=a.service)==null?void 0:m.title)||"Consultation"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway']",children:"Date:"}),e.jsx("span",{className:"font-medium text-neutral-800 font-['Raleway']",children:(u=a.slot)!=null&&u.date?C(new Date(a.slot.date),"MMMM d, yyyy"):"Scheduled Date"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway']",children:"Time:"}),e.jsx("span",{className:"font-medium text-neutral-800 font-['Raleway']",children:a.slot?`${x(a.slot.startTime)} - ${x(a.slot.endTime)}`:"Scheduled Time"})]}),((f=a.service)==null?void 0:f.price)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway']",children:"Price:"}),e.jsxs("span",{className:"font-medium text-neutral-800 font-['Raleway']",children:["$",a.service.price]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway']",children:"Status:"}),e.jsx("span",{className:"font-medium text-green-600 font-['Raleway']",children:a.status||"Confirmed"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 space-y-3",children:[e.jsx("h3",{className:"font-medium text-lg mb-3 text-neutral-800 font-['Raleway']",children:"Your Information"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway']",children:"Name:"}),e.jsx("span",{className:"font-medium text-neutral-800 font-['Raleway']",children:a.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway']",children:"Email:"}),e.jsx("span",{className:"font-medium text-neutral-800 font-['Raleway']",children:a.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway']",children:"Phone:"}),e.jsx("span",{className:"font-medium text-neutral-800 font-['Raleway']",children:a.phone})]}),a.message&&e.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-neutral-600 font-['Raleway'] block mb-1",children:"Special Requests:"}),e.jsx("p",{className:"font-medium text-neutral-800 font-['Raleway']",children:a.message})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-neutral-600 font-['Raleway']",children:"We have sent a confirmation email to your email address with all the details."}),e.jsx("p",{className:"text-neutral-600 font-['Raleway']",children:"If you have any questions or need to reschedule, please contact us via WhatsApp."})]})]}),e.jsx(p,{className:"flex justify-center",children:e.jsx(y,{className:"bg-[#EAB69B] hover:bg-[#D49B80] text-white px-8 py-6 rounded-md transition-all font-medium font-['Raleway']",onClick:()=>s("/"),children:"Return to Home"})})]})})}export{S as default};
